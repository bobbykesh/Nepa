<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OPay Receipt Generator</title>
    <link rel="stylesheet" href="style.css">
    <script>
        function generateReceipt() {
            // Get user inputs
            const amountInput = document.getElementById('amount').value;
            const dateInput = document.getElementById('date').value;
            const timeInput = document.getElementById('time').value;
            const addressInput = document.getElementById('address').value;
            const phoneInput = document.getElementById('phone').value;
            const customerNameInput = document.getElementById('customer-name').value;

            // Auto-generate values
            const meterNumber = '450829' + Math.floor(10000000 + Math.random() * 90000000);
            const token = '5006-' + Math.floor(1000 + Math.random() * 9000) + '-' + Math.floor(1000 + Math.random() * 9000) + '-' + Math.floor(1000 + Math.random() * 9000) + '-1943';
            const units = (Math.random() * 50).toFixed(2) + ' kWh';
            const sn = '82231' + Math.floor(1000000000 + Math.random() * 9000000000);

            // Get the date in MMDDYY format for the transaction number
            const dateObj = new Date(dateInput);
            const month = (dateObj.getMonth() + 1).toString().padStart(2, '0');
            const day = dateObj.getDate().toString().padStart(2, '0');
            const year = dateObj.getFullYear().toString().slice(-2);
            const datePart = year + month + day;
            
            const transactionNumber = datePart + Math.floor(100000000000 + Math.random() * 900000000000);

            // Populate the receipt
            document.getElementById('receipt-amount').textContent = `NGN ${parseFloat(amountInput).toFixed(2)}`;
            document.getElementById('receipt-date-time').textContent = `${dateInput} ${timeInput}`;
            document.getElementById('receipt-customer-name').textContent = customerNameInput;
            document.getElementById('receipt-phone').textContent = phoneInput;
            document.getElementById('receipt-address').textContent = addressInput;
            document.getElementById('receipt-meter').textContent = meterNumber;
            document.getElementById('receipt-token').textContent = token;
            document.getElementById('receipt-units').textContent = units;
            document.getElementById('receipt-transaction').textContent = transactionNumber;
            document.getElementById('receipt-sn').textContent = sn;
            
            // Show the receipt and hide the form
            document.getElementById('input-form').style.display = 'none';
            document.getElementById('receipt-container').style.display = 'block';
        }
    </script>
</head>
<body>

<div class="container">
    <div id="input-form">
        <h2>Generate OPay Receipt</h2>
        <div class="form-group">
            <label for="customer-name">Customer Name:</label>
            <input type="text" id="customer-name" placeholder="e.g., AKAPO EZEKIEL MR" required>
        </div>
        <div class="form-group">
            <label for="amount">Amount (NGN):</label>
            <input type="number" id="amount" placeholder="e.g., 1000.00" required>
        </div>
        <div class="form-group">
            <label for="date">Date:</label>
            <input type="date" id="date" required>
        </div>
        <div class="form-group">
            <label for="time">Time:</label>
            <input type="time" id="time" required>
        </div>
        <div class="form-group">
            <label for="address">Address:</label>
            <textarea id="address" placeholder="e.g., NO 21B, KOREDE CDA..." required></textarea>
        </div>
        <div class="form-group">
            <label for="phone">Phone Number:</label>
            <input type="tel" id="phone" placeholder="e.g., +2347012459916" required>
        </div>
        <button onclick="generateReceipt()">Generate Receipt</button>
    </div>

    <div id="receipt-container" class="receipt" style="display:none;">
        <div class="header">
            <p>CUSTOMER COPY</p>
            <img src="opay_logo.png" alt="OPay Logo" class="logo">
        </div>

        <div class="customer-info">
            <p class="name">CHRISTOPHER ADEOLA ADEOKUN</p>
            <p class="address">No 19 Eruwon Street Olokuta Idi Aba Abeokuta Ogun State</p>
        </div>

        <div class="section-title">
            <h2>Electricity</h2>
        </div>

        <div class="details">
            <div class="item">
                <span class="label">Date/Time</span>
                <span class="value" id="receipt-date-time"></span>
            </div>
            <div class="item">
                <span class="label">Meter number</span>
                <span class="value" id="receipt-meter"></span>
            </div>
            <div class="item">
                <span class="label">Service provider</span>
                <span class="value">ibadan_prepaid</span>
            </div>
            <div class="item">
                <span class="label">Paid with</span>
                <span class="value">BalancePayment</span>
            </div>
            <div class="item">
                <span class="label">Token</span>
                <span class="value" id="receipt-token"></span>
            </div>
            <div class="item">
                <span class="label">Customer Name</span>
                <span class="value" id="receipt-customer-name"></span>
            </div>
            <div class="item">
                <span class="label">Phone number</span>
                <span class="value" id="receipt-phone"></span>
            </div>
            <div class="item">
                <span class="label">Address</span>
                <span class="value" id="receipt-address"></span>
            </div>
            <div class="item">
                <span class="label">Units</span>
                <span class="value" id="receipt-units"></span>
            </div>
            <div class="item">
                <span class="label">Transaction Number</span>
                <span class="value" id="receipt-transaction"></span>
            </div>
            <div class="item">
                <span class="label">SN</span>
                <span class="value" id="receipt-sn"></span>
            </div>
            <div class="item">
                <span class="label">OPay POS</span>
                <span class="value">405</span>
            </div>
        </div>

        <div class="amount-section">
            <div class="stars">**********************</div>
            <p class="amount" id="receipt-amount"></p>
            <div class="stars">**********************</div>
        </div>

        <div class="status">
            <p>APPROVED</p>
        </div>

        <div class="support-info">
            <p>SUPPORT</p>
            <p>pos-service@opay-inc.com</p>
            <p>07008888329</p>
        </div>
    </div>
</div>

</body>
</html>
